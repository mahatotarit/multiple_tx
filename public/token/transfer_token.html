<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Transfer</title>

    <link rel="stylesheet" href="../../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/transfer_token.css">

</head>
<body>
    
    <header id="header"></header>

    <div class="main">

      <div style="width: 100%;" id="top_code"></div>

      <!-- ============================================================================= -->

      <!-- set up user wallet details  -->
      <div class="step_div">

        <div class="step_heading_div">
           <div class="step_name_arrow step_open_step_div">
              <b>Step 3</b>
              <button>ðŸ”½</button>
           </div>
           <div class="step_description">
            <small>1. How many transactions do you need to perform in a block to send funds to a compromised wallet?</small><br>
            <small>2. What is the gas fee for each transaction from your wallet?</small><br>
            <small>3. What is the transaction value being sent to the compromised wallet?</small>
           </div>
        </div>

        <div class="collapce_box" id="third_step_co_box">
          
          <div class="six_layer all_layer">

            <div class="six_row_1 layer_row d-md-block">

               <div class="select_parent_div w-md-100 mt-md-1rem">
                  <div class="input_title_div">Transctions Per Block:</div>
                    <select>
                      <option value="0" disabled>Select Transctions Per Block</option>
                      <option value="2" selected>2 - Good for burning tokens</option>
                      <option value="3">3 - Better for burning tokens</option>
                      <option value="4">4 - Best for burning tokens</option>
                      <option value="5">5 - Ideal for burning tokens</option>
                    </select>
               </div>

               <div class="select_parent_div w-md-100 mt-md-1rem">
                <div class="input_title_div">GassFee Per Transctions:</div>
                  <select>
                    <option value="0" disabled>Select GassFee Per Transctions</option>
                    <option value="1" selected>Default + 1 GWEI</option>
                    <option value="2">Default + 2 GWEI</option>
                  </select>
               </div>

            </div>

            <div class="six_row_2 layer_row">
              <div class="input-container">
                <div class="input_title_div">Transctions Value:</div>
                  <input type="number" placeholder="Enter The Transctions Value">
              </div>
            </div>

          </div>

        </div>

      </div>

      <!-- set up target wallet details -->
      <div class="step_div">

        <div class="step_heading_div">
           <div class="step_name_arrow step_open_step_div">
              <b>Step 4</b>
              <button>ðŸ”½</button>
           </div>
           <div class="step_description">
            <small>1. How many tokens do you want to send from the compromised wallet to your wallet?</small><br>
            <small>2. What gas fee do you want to set for transferring tokens from the compromised wallet to your wallet?</small><br>
            <small>3. What is your recipient wallet address for receiving tokens from the compromised wallet?</small>
           </div>
        </div>

        <div class="collapce_box" id="fourth_step_co_box">
          
          <div class="seven_layer all_layer">

            <div class="seven_row_1 layer_row d-md-block">

                <div class="input-container w-md-100 mt-md-1rem">
                   <div class="input_title_div">Token Value:</div>
                   <input type="number" placeholder="Token Value">
                </div>

               <div class="select_parent_div w-md-100 mt-md-1rem">
                <div class="input_title_div">GassFee Per Transctions:</div>
                  <select>
                    <option value="0" disabled>Select GassFee Per Transctions</option>
                    <option value="all" selected>Spend All Compromised Wallet Funds. (Best)</option>
                    <option value="1">Default + 1 GWEI</option>
                    <option value="2">Default + 2 GWEI</option>
                  </select>
               </div>

            </div>

            <div class="seven_row_2 layer_row">
              <div class="input-container">
                <div class="input_title_div">Token Recipient Wallet Address:</div>
                  <input type="text" placeholder="Enter Your Token Recipient Wallet Address">
              </div>
            </div>

          </div>

        </div>

      </div>

      <!-- button step diev  -->
      <div class="step_div">

        <div class="step_heading_div">
           <div class="step_name_arrow step_open_step_div">
              <b>Step 5</b>
              <button>ðŸ”½</button>
           </div>
           <div class="step_description">
            <small>1. Your bot is ready. Please preview the details.</small>
           </div>
        </div>

        <div class="collapce_box" id="five_step_co_box">
          
          <div class="eight_layer all_layer">
             <div class="eight_row_1 layer_row">
                <div class="input-container">
                   <button class="reset_button">Reset</button>
                   <button class="preview_button">Preview</button>
                </div>
             </div>
          </div>

        </div>

      </div>

    </div>

</body>
</html>

<script src="../assets/js/token/token_top.js"></script>
<script src="../../assets/js/header.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', async function () {
    try {
      
      const header_fetch = fetch('../../header.html');
      const token_top_fetch = fetch('../common/token_top.html');

      const [header_fetch_response,token_top_fetch_response] = await Promise.all([header_fetch,token_top_fetch]);

      if (!header_fetch_response.ok) throw new Error('Network response for header was not ok'); 
      if (!token_top_fetch_response.ok) throw new Error('Network response for header was not ok'); 

      const headerData = await header_fetch_response.text();
      const token_topData = await token_top_fetch_response.text();

      document.querySelector('#header').innerHTML = headerData;
      document.querySelector('#top_code').innerHTML = token_topData;

      controller();
    } catch (error) {
      console.error('Error loading header.html:', error);
    }
  });

  async function controller(){
    // header.js
    await connectWallet();

    await enable_window();
    start_time();
    get_block();
    get_gas_price();
    chain_action();
    token_fun();

    document.querySelector('#wallet_connect_button').addEventListener('click',function(){
      connectWallet();
    });

  }

</script>